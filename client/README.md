# Object detection client powered by Streamlit

## Updating the GRPC client

This client asks for predictions to a model served by TorchServe, which exposes a REST and a gRPC API.
In case TorchServe changes the gRPC API and you update the server, you may need to update the GRPC client too. In order
to do so, follow the steps below:

1. Replace the `grpc_aux/inference.proto` file with the one located at 
https://github.com/pytorch/serve/blob/master/frontend/server/src/main/resources/proto/inference.proto or follow the 
updated instructions specified in https://pytorch.org/serve/grpc_api.html.
2. From the client root dir (the parent of this readme file), execute:
```python -m grpc_tools.protoc --proto_path=grpc_aux --python_out=grpc_aux --grpc_python_out=grpc_aux grpc_aux/inference.proto```
3. Edit the file grpc_aux/inference_pb2_grpc.py and change the line `import inference_pb2 as inference__pb2` to 
`from . import inference_pb2 as inference__pb2`. **Alternatively**, as the file inference_pb2_grpc.py is autogenerated and 
not meant to be edited, move the content of grpc_aux to the top level of the client.
